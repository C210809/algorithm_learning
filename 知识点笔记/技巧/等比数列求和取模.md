问题：

求 $p^0 + p^1+...+p^{n - 1}$ 的值。



解法一：利用等比数列求和公式

若数列首项为 $a_1$ ，公比为 $q$ ，前 $n$ 项和为 $S_n$ 。

 则有$S_n={\Large\frac{a_1(1-q^n)}{1-q}=\frac{a_1-a_nq}{1-q}} \ (q \ne 1)$

```
p^0 + p^1 + ... + p^(n-1) 
= (1 - p^n) / (1 - p)
```



解法二：分治（配合快速幂）

```c++
/*
定义：sum(p, k) = p^0 + p^1 + ... + p^(k-1)
k为偶数时：
	sum(p, k) = p^0 + .. + p^(k/2) + p^(k/2+1) + ... + p^(k-1)
			  = sum(p, k/2) + p^(k/2) * (p^0 + ... + p^(k/2))
			  = sum(p, k/2) + p^(k/2) * sum(p, k/2)
			  = (1 + p^(k/2)) * sum(p, k/2)
k为奇数时：
	当k = 1时，特判返回1。
	sum(p, k) = p^0 + ... + p^(k-2) + p^(k-1)
			  = sum(p, k-1) + p^(k-1)
*/

int sum(int p, int k) {
    if (k == 1) return 1;
    if (k & 1) return (qmi(p, k - 1)) * sum(p, k - 1);
    else return (1 + qmi(p, k / 2)) * sum(p, k / 2);
}
```

